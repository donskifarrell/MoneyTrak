
template(name='account_box')
  .box.account-box
    {{> login_menu}}

template(name='login_menu')
  .pure-g-r
    button.google Sign In with Google
  .pure-g-r
    button.twitter Sign In with Twitter
  .pure-g-r
    {{> user_account_form}}

template(name='user_account_form')
  {{#if inSignupFlow}}
  p We need a few details to register you..
  {{/if}}
  form.login-form
      fieldset
          .control-group.input-prepend
            .controls
              span.add-on
                i.icon-user
              input#login-username(type='text', placeholder='Username')
        {{#if inSignupFlow}} 
          .control-group.input-prepend
            .controls
              span.add-on
                i.icon-envelope
              input#login-email(type='text', placeholder='Email')
        {{/if}}
          .control-group.input-prepend
            .controls
              span.add-on
                i.icon-lock
              input#login-password(type='password', placeholder='Password')
        {{#unless inSignupFlow}}
          button.btn.btn-link.toForgotPassBtn Forgotten password?
        {{/unless}}
        {{#if inSignupFlow}}        
          .control-group.input-prepend
            .controls
              span.add-on
                i.icon-exclamation-sign
              input#login-password-again(type='password', placeholder='Confirm Password')
          {{> login_message}}
          .form-actions
            .span9.left-pull.enroll
              p Already registered?
                button.btn.btn-link.toLoginBtn Login here!
            .span3
              #login-buttons-password.btn.btn-primary(type='submit').enroll-button Register
        {{else}}
          {{> login_message}}
          .form-actions
            .span9.left-pull
              p Haven't got an account?
                button.btn.btn-link.toEnrollBtn Create one here!
            .span3
              #login-buttons-password.btn.btn-primary.login-button-form-submit.login-button Login
        {{/if}}

template(name='login_message')
  {{#if errorMessage}}  
    .alert.alert-error
      {{errorMessage}}
  {{/if}}
  {{#if infoMessage}}  
    .alert.alert-info
      {{infoMessage}}
  {{/if}}
